var bdshareBase=bdshareBase||{};(function(a){a.version="1.5.2.2";a.guid="$BAIDU$";a.$$=window[a.guid]=window[a.guid]||{global:{}};a.page=a.page||{};a.page.loadCssFile=function(c){var d=document.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("type","text/css");d.setAttribute("href",c);document.getElementsByTagName("head")[0].appendChild(d)};a.object=a.object||{};a.object.keys=function(g){var f=[],h=0,e;for(e in g){if(g.hasOwnProperty(e)){f[h++]=e}}return f};a.browser=a.browser||{};a.browser.ie=a.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?(document.documentMode||+RegExp["\x241"]):undefined;a.dom=a.dom||{};a.dom.g=function(b){if(!b){return null}if("string"==typeof b||b instanceof String){return document.getElementById(b)}else{if(b.nodeName&&(b.nodeType==1||b.nodeType==9)){return b}}return null};a.g=a.G=a.dom.g;a.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp["\x246"]||RegExp["\x242"]):undefined;a.dom.insertHTML=function(i,g,j){i=a.dom.g(i);var f,h;if(i.insertAdjacentHTML&&!a.browser.opera){i.insertAdjacentHTML(g,j)}else{f=i.ownerDocument.createRange();g=g.toUpperCase();if(g=="AFTERBEGIN"||g=="BEFOREEND"){f.selectNodeContents(i);f.collapse(g=="AFTERBEGIN")}else{h=g=="BEFOREBEGIN";f[h?"setStartBefore":"setEndAfter"](i);f.collapse(h)}f.insertNode(f.createContextualFragment(j))}return i};a.insertHTML=a.dom.insertHTML;a.dom._styleFixer=a.dom._styleFixer||{};a.dom._styleFilter=a.dom._styleFilter||[];a.dom._styleFilter.filter=function(g,j,i){for(var h=0,k=a.dom._styleFilter,l;l=k[h];h++){if(l=l[i]){j=l(g,j)}}return j};a.string=a.string||{};a.string.toCamelCase=function(b){if(b.indexOf("-")<0&&b.indexOf("_")<0){return b}return b.replace(/[-_][^-_]/g,function(c){return c.charAt(1).toUpperCase()})};a.dom.setStyle=function(j,f,i){var h=a.dom,g;j=h.g(j);f=a.string.toCamelCase(f);if(g=h._styleFilter){i=g.filter(f,i,"set")}g=h._styleFixer[f];(g&&g.set)?g.set(j,i,f):(j.style[g||f]=i);return j};a.setStyle=a.dom.setStyle;a.dom.setStyles=function(d,f){d=a.dom.g(d);for(var e in f){a.dom.setStyle(d,e,f[e])}return d};a.setStyles=a.dom.setStyles;(function(){var b=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g");a.string.trim=function(c){return String(c).replace(b,"")}})();a.trim=a.string.trim;a.string.escapeReg=function(b){return String(b).replace(new RegExp("([.*+?^=!:\x24{}()|[\\]/\\\\])","g"),"\\\x241")};a.dom.q=function(k,n,q){var i=[],o=a.string.trim,l,m,r,p;if(!(k=o(k))){return i}if("undefined"==typeof n){n=document}else{n=a.dom.g(n);if(!n){return i}}q&&(q=o(q).toUpperCase());if(n.getElementsByClassName){r=n.getElementsByClassName(k);l=r.length;for(m=0;m<l;m++){p=r[m];if(q&&p.tagName!=q){continue}i[i.length]=p}}else{k=new RegExp("(^|\\s)"+a.string.escapeReg(k)+"(\\s|\x24)");r=q?n.getElementsByTagName(q):(n.all||n.getElementsByTagName("*"));l=r.length;for(m=0;m<l;m++){p=r[m];k.test(p.className)&&(i[i.length]=p)}}return i};a.q=a.Q=a.dom.q;a.event=a.event||{};a.event._listeners=a.event._listeners||[];a.lang=a.lang||{};a.lang.isString=function(b){return"[object String]"==Object.prototype.toString.call(b)};a.isString=a.lang.isString;a.dom._g=function(b){if(a.lang.isString(b)){return document.getElementById(b)}return b};a._g=a.dom._g;a.event.on=function(i,n,l){n=n.replace(/^on/i,"");i=a.dom._g(i);var m=function(b){l.call(i,b)},j=a.event._listeners,o=a.event._eventFilter,k,p=n;n=n.toLowerCase();if(o&&o[n]){k=o[n](i,n,m);p=k.type;m=k.listener}if(i.addEventListener){i.addEventListener(p,m,false)}else{if(i.attachEvent){i.attachEvent("on"+p,m)}}j[j.length]=[i,n,l,m,p];return i};a.on=a.event.on;a.event.un=function(p,m,q){p=a.dom._g(p);m=m.replace(/^on/i,"").toLowerCase();var j=a.event._listeners,o=j.length,n=!q,k,l,r;while(o--){k=j[o];if(k[1]===m&&k[0]===p&&(n||k[2]===q)){l=k[4];r=k[3];if(p.removeEventListener){p.removeEventListener(l,r,false)}else{if(p.detachEvent){p.detachEvent("on"+l,r)}}j.splice(o,1)}}return p};a.un=a.event.un;a.event.preventDefault=function(b){if(b.preventDefault){b.preventDefault()}else{b.returnValue=false}};a.dom.getDocument=function(b){b=a.dom.g(b);return b.nodeType==9?b:b.ownerDocument||b.document};a.dom.getComputedStyle=function(e,f){e=a.dom._g(e);var g=a.dom.getDocument(e),h;if(g.defaultView&&g.defaultView.getComputedStyle){h=g.defaultView.getComputedStyle(e,null);if(h){return h[f]||h.getPropertyValue(f)}}return""};a.dom.getStyle=function(j,f){var h=a.dom;j=h.g(j);f=a.string.toCamelCase(f);var i=j.style[f]||(j.currentStyle?j.currentStyle[f]:"")||h.getComputedStyle(j,f);if(!i||i=="auto"){var g=h._styleFixer[f];if(g){i=g.get?g.get(j,f,i):a.dom.getStyle(j,g)}}if(g=h._styleFilter){i=g.filter(f,i,"get")}return i};a.getStyle=a.dom.getStyle;a.browser.isWebkit=/webkit/i.test(navigator.userAgent);a.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent);a.browser.isStrict=document.compatMode=="CSS1Compat";a.dom.getPosition=function(x){x=a.dom.g(x);var o=a.dom.getDocument(x),u=a.browser,r=a.dom.getStyle,v=u.isGecko>0&&o.getBoxObjectFor&&r(x,"position")=="absolute"&&(x.style.top===""||x.style.left===""),q={left:0,top:0},s=(u.ie&&!u.isStrict)?o.body:o.documentElement,n,w;if(x==s){return q}if(x.getBoundingClientRect){w=x.getBoundingClientRect();q.left=w.left+Math.max(o.documentElement.scrollLeft,o.body.scrollLeft);q.top=w.top+Math.max(o.documentElement.scrollTop,o.body.scrollTop);q.left-=o.documentElement.clientLeft;q.top-=o.documentElement.clientTop;var p=o.body,m=parseInt(r(p,"borderLeftWidth")),t=parseInt(r(p,"borderTopWidth"));if(u.ie&&!u.isStrict){q.left-=isNaN(m)?2:m;q.top-=isNaN(t)?2:t}}else{n=x;do{q.left+=n.offsetLeft;q.top+=n.offsetTop;if(u.isWebkit>0&&r(n,"position")=="fixed"){q.left+=o.body.scrollLeft;q.top+=o.body.scrollTop;break}n=n.offsetParent}while(n&&n!=x);if(u.opera>0||(u.isWebkit>0&&r(x,"position")=="absolute")){q.top-=o.body.offsetTop}n=x.offsetParent;while(n&&n!=o.body){q.left-=n.scrollLeft;if(!u.opera||n.tagName!="TR"){q.top-=n.scrollTop}n=n.offsetParent}}return q};a.page.getScrollTop=function(){var b=document;return window.pageYOffset||b.documentElement.scrollTop||b.body.scrollTop};a.page.getScrollLeft=function(){var b=document;return window.pageXOffset||b.documentElement.scrollLeft||b.body.scrollLeft};a.page.getViewHeight=function(){var c=document,d=c.compatMode=="BackCompat"?c.body:c.documentElement;return d.clientHeight};a.page.getViewWidth=function(){var c=document,d=c.compatMode=="BackCompat"?c.body:c.documentElement;return d.clientWidth};a.array=a.array||{};a.each=a.array.forEach=a.array.each=function(j,l,h){var m,k,n,i=j.length;if("function"==typeof l){for(n=0;n<i;n++){k=j[n];m=l.call(h||j,k,n);if(m===false){break}}}return j};a.string.format=function(h,f){h=String(h);var e=Array.prototype.slice.call(arguments,1),g=Object.prototype.toString;if(e.length){e=e.length==1?(f!==null&&(/\[object Array\]|\[object Object\]/.test(g.call(f)))?f:e):e;return h.replace(/#\{(.+?)\}/g,function(d,b){var c=e[b];if("[object Function]"==g.call(c)){c=c(b)}return("undefined"==typeof c?"":c)})}return h};a.format=a.string.format;a.event.getTarget=function(b){return b.target||b.srcElement};a.dom._NAME_ATTRS=(function(){var b={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};if(a.browser.ie<8){b["for"]="htmlFor";b["class"]="className"}else{b.htmlFor="for";b.className="class"}return b})();a.dom.getAttr=function(c,d){c=a.dom.g(c);if("style"==d){return c.style.cssText}d=a.dom._NAME_ATTRS[d]||d;return c.getAttribute(d)};a.getAttr=a.dom.getAttr;a.dom.remove=function(d){d=a.dom._g(d);var c=d.parentNode;c&&c.removeChild(d)};a.dom.getParent=function(b){b=a.dom._g(b);return b.parentElement||b.parentNode||null};a.dom.hide=function(b){b=a.dom.g(b);b.style.display="none";return b};a.hide=a.dom.hide;a.dom.show=function(b){b=a.dom.g(b);b.style.display="";return b};a.show=a.dom.show;a.string.encodeHTML=function(b){return String(b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};a.encodeHTML=a.string.encodeHTML;a.dom.setAttr=function(d,e,f){d=a.dom.g(d);if("style"==e){d.style.cssText=f}else{e=a.dom._NAME_ATTRS[e]||e;d.setAttribute(e,f)}return d};a.setAttr=a.dom.setAttr;a.url=a.url||{};a.url.escapeSymbol=function(b){return String(b).replace(/[#%&+=\/\\\ \\u3000\f\r\n\t]/g,function(c){return"%"+(256+c.charCodeAt()).toString(16).substring(1).toUpperCase()})};a.object.each=function(h,j){var f,g,i;if("function"==typeof j){for(g in h){if(h.hasOwnProperty(g)){i=h[g];f=j.call(h,i,g);if(f===false){break}}}}return h};a.lang.isArray=function(b){return"[object Array]"==Object.prototype.toString.call(b)};a.url.jsonToQuery=function(j,h){var g=[],i,f=h||function(b){return a.url.escapeSymbol(b)};a.object.each(j,function(b,c){if(a.lang.isArray(b)){i=b.length;while(i--){g.push(c+"="+f(b[i],c))}}else{g.push(c+"="+f(b,c))}});return g.join("&")};a.extend=a.object.extend=function(f,e){for(var d in e){if(e.hasOwnProperty(d)){f[d]=e[d]}}return f};a.dom.addClass=function(k,j){k=a.dom.g(k);var h=j.split(/\s+/),i=k.className,l=" "+i+" ",m=0,n=h.length;for(;m<n;m++){if(l.indexOf(" "+h[m]+" ")<0){i+=(i?" ":"")+h[m]}}k.className=i;return k};a.addClass=a.dom.addClass;a.dom.removeClass=function(m,l){m=a.dom.g(m);var o=m.className.split(/\s+/),k=l.split(/\s+/),i,j=k.length,p,n=0;for(;n<j;++n){for(p=0,i=o.length;p<i;++p){if(o[p]==k[n]){o.splice(p,1);break}}}m.className=o.join(" ");return m};a.removeClass=a.dom.removeClass;a.dom.hasClass=function(h,g){h=a.dom.g(h);if(!h||!h.className){return false}var e=a.string.trim(g).split(/\s+/),f=e.length;g=h.className.split(/\s+/).join(" ");while(f--){if(!(new RegExp("(^| )"+e[f]+"( |\x24)")).test(g)){return false}}return true};a.dom.toggleClass=function(d,c){if(a.dom.hasClass(d,c)){a.dom.removeClass(d,c)}else{a.dom.addClass(d,c)}}})(bdshareBase);var bdShare=bdShare||{};bdShare.lib=bdShare.lib||{};bdShare._LogPool=bdShare._LogPool||[];(function(b){var c=bdshareBase;b.isShareWeb=(new RegExp("([http|https]://[a-zA-Z0-9_.]+.baidu.com)","ig")).test(window.location.href);b.anti={timespan:(function(){var e=new Date().getTime(),d=new Date().getTime();return{init:function(){d=new Date().getTime()+1000},getValue:function(){return e.toString(32)+d.toString(32)+new Date().getTime().toString(32)}}})(),sloc:(function(){var i=0,e={x:0,y:0},d={x:0,y:0},j=-1,g=[];function h(m){return c.getMousePos(m)}function k(m){m=m||window.event;e=h(m);if(e.x>0&&e.y>0){c.un(document,"mousemove",k)}}function f(m){j=-1}function l(p){p=p||window.event;var o=p.target||p.srcElement,n=c.dom.getPosition(o),m=h(p);d.x=m.x-n.left;d.y=m.y-n.top;j=new Date().getTime()}return{init:function(m){i=m;c.on(document,"mousemove",k)},append:function(n,m){c.array.each(n,function(o){g.push(o);c.setAttr(o,"data-btype",m);c.on(o,"mouseover",l);c.on(o,"mouseout",f)})},destory:function(){c.un(document,"mousemove",k);c.array.each(g,function(m){c.un(m,"mouseover",l);c.un(m,"mouseout",f)});g=[]},getValue:function(x,y,r){y=y||window.event;var B=r||c.getAttr(x,"data-btype")||i,m=Math.floor(e.x),E=Math.floor(e.y),u=B>0?1:0,A=Math.floor(d.x),z=Math.floor(d.y),n=c.dom.getPosition(x),p=h(y),q=Math.floor(p.x-n.left),o=Math.floor(p.y-n.top),C=Math.floor(x.offsetWidth),v=Math.floor(x.offsetHeight),s=B,D=new Date().getTime()-j;return[m,E,u,A,z,q,o,C,v,s,D].join(".")}}})(),getLinkId:(function(){var d=(+new Date).toString(36);return function(){var j="0123456789abcdefghijklmnopqrstuvwxyz",k=3,e=j.length,g="";for(var f=1;f<=k;f++){var h=Math.floor(e*Math.random());g=g+j.charAt(h)}return d+g}})()};b.log={request:(function(){var d=[];return function(e){var g="bdsharelog__"+(new Date()).getTime(),f=d[g]=new Image();f.onload=(f.onerror=function(){d[g]=null});f.src=e;f=null}})(),send:function(f,d){var e=(d=="load"?"http://nsclick.baidu.com/v.gif?pid=307&":"http://s.share.baidu.com/commit?");b.log.request(e+(c.isString(f)?f:c.url.jsonToQuery(f)))}};b.BaseClass=function(){var d=this,e={};d.on=function(g,h){var f=e[g];if(!f){f=e[g]=[]}f.push(h)};d.un=function(g,h){if(!g){e={};return}var f=e[g];if(f){if(h){c.array.each(f,function(k,j){if(k==h){f.splice(j,1);return false}})}else{e[g]=[]}}};d.fire=function(g,h){var f=e[g];if(f){h=h||{};c.array.each(f,function(i){h._result=i.call(d,c.extend({_ctx:{src:d}},h))})}}};var a={};a.create=function(d,f){f=f||b.BaseClass;return function e(){f.apply(this,arguments);var g=c.extend({},this);d.apply(this,arguments);this._super=g}};b.Class=a;c.getMousePos=function(d){if(d.pageX||d.pageY){return{x:d.pageX,y:d.pageY}}if(document.documentElement&&document.documentElement.scrollTop){return{x:d.clientX+document.documentElement.scrollLeft-document.documentElement.clientLeft,y:d.clientY+document.documentElement.scrollTop-document.documentElement.clientTop}}else{if(document.body){return{x:d.clientX+document.body.scrollLeft-document.body.clientLeft,y:d.clientY+document.body.scrollTop-document.body.clientTop}}}};c.setFixed=(function(){var e=null,d=null;function g(){c.setStyles(e,f(e,d));c.dom.toggleClass(e,"xxxx4ie")}function f(h,j){var i=c.extend({},j);if(typeof j.top!="undefined"){i.top=(c.page.getScrollTop()+j.top)+"px"}else{if(typeof j.bottom!="undefined"){i.bottom=j.bottom+"px"}}if(typeof j.left!="undefined"){i.left=(c.page.getScrollLeft()+j.left)+"px"}else{if(typeof j.right!="undefined"){i.right=j.right+"px"}}return i}return function(i,l){e=i;d=l;var j=c.getStyle(i,"zIndex");if(!j||(j=="auto")){j=9999}if(c.browser.ie<=6){var k={position:"absolute",zIndex:j};for(var h in l){k[h]=l[h]+"px"}c.extend(k,f(i,l));c.setStyles(i,k);c.un(window,"scroll",g);c.on(window,"scroll",g)}else{var k={position:"fixed",zIndex:j};for(var h in l){k[h]=l[h]+"px"}c.setStyles(i,k)}}})()})(bdShare.lib);var bdShare=bdShare||{};(function(h){var b=bdshareBase,i=bdShare.lib,d={web:"http://share.baidu.com",staticUrl:"http://bdimg.share.baidu.com",jumpUrl:"http://s.share.baidu.com",mshareUrl:"http://s.share.baidu.com/mshare"};var g=b.dom.getPosition;b.dom.getPosition=function(l){var m=g(l);if(b.browser.ie&&(navigator.userAgent.toLowerCase().indexOf("se 2.x")!=-1)){if(document.compatMode&&(document.compatMode=="BackCompat")){m.top+=2;m.left+=2}}return m};var f={mshare:{name:"\u4e00\u952e\u5206\u4eab"},tqq:{name:"\u817e\u8baf\u5fae\u535a"},qzone:{name:"QQ\u7a7a\u95f4"},renren:{name:"\u4eba\u4eba\u7f51"},tsina:{name:"\u65b0\u6d6a\u5fae\u535a"},bdhome:{name:"\u767e\u5ea6\u65b0\u9996\u9875"},tieba:{name:"\u767e\u5ea6\u8d34\u5427"},baidu:{name:"\u767e\u5ea6\u641c\u85cf"},bdxc:{name:"\u767e\u5ea6\u76f8\u518c"},kaixin001:{name:"\u5f00\u5fc3\u7f51"},tqf:{name:"\u817e\u8baf\u670b\u53cb"},douban:{name:"\u8c46\u74e3\u7f51"},tsohu:{name:"\u641c\u72d0\u5fae\u535a"},sqq:{name:"QQ\u597D\u53CB"},thx:{name:"\u548c\u8baf\u5fae\u535a"},qq:{name:"QQ\u6536\u85cf"},taobao:{name:"\u6211\u7684\u6dd8\u5b9d"},hi:{name:"\u767e\u5ea6\u7a7a\u95f4"},msn:{name:"MSN"},sohu:{name:"\u641c\u72d0\u767d\u793e\u4f1a"},t163:{name:"\u7f51\u6613\u5fae\u535a"},qy:{name:"\u5947\u827a\u5947\u8c08"},meilishuo:{name:"\u7f8e\u4e3d\u8bf4"},mogujie:{name:"\u8611\u83c7\u8857"},diandian:{name:"\u70b9\u70b9\u7f51"},huaban:{name:"\u82b1\u74e3"},leho:{name:"\u7231\u4e50\u6d3b"},share189:{name:"\u624B\u673A\u5FEB\u4F20"},duitang:{name:"\u5806\u7cd6"},hx:{name:"\u548c\u8baf"},tfh:{name:"\u51e4\u51f0\u5fae\u535a"},fx:{name:"\u98de\u4fe1"},youdao:{name:"\u6709\u9053\u4e91\u7b14\u8bb0"},sdo:{name:"\u9EA6\u5E93\u8BB0\u4E8B"},qingbiji:{name:"\u8F7B\u7B14\u8BB0"},ifeng:{name:"\u51E4\u51F0\u5FEB\u535A"},people:{name:"\u4EBA\u6C11\u5FAE\u535A"},xinhua:{name:"\u65B0\u534E\u5FAE\u535A"},ff:{name:"\u996d\u5426"},mail:{name:"\u90ae\u4ef6\u5206\u4eab"},kanshou:{name:"\u641C\u72D0\u968F\u8EAB\u770B"},yaolan:{name:"\u6447\u7BEE\u7A7A\u95F4"},wealink:{name:"\u82e5\u90bb\u7f51"},tuita:{name:"\u63A8\u4ED6"},xg:{name:"\u9c9c\u679c"},ty:{name:"\u5929\u6daf\u793e\u533a"},fbook:{name:"Facebook"},twi:{name:"Twitter"},ms:{name:"Myspace"},deli:{name:"delicious"},s51:{name:"51\u6E38\u620F\u793e\u533a"},s139:{name:"139\u8bf4\u5ba2"},linkedin:{name:"linkedin"},copy:{name:"\u590d\u5236\u7f51\u5740"},print:{name:"\u6253\u5370"}};var k=function(n){var o=this,l=false,m=false;function q(){if(m){m=clearTimeout(m)}if(!l){l=setTimeout(function(){n.startFn&&n.startFn();l=false},n.time)}}function p(){if(l){l=clearTimeout(l)}if(!m){m=setTimeout(function(){n.abortFn&&n.abortFn();m=false},n.time)}}o.clearAbort=function(){if(m){m=clearTimeout(m)}};o.start=q;o.abort=p};var a=i.Class.create(function(p){var v=this,x="bdimgshare_"+new Date().getTime(),l=null,o=null,u=null,s=b.object.keys(f);function n(){var y=["<div id='#{id}' style='position:absolute;z-index:99999;margin:0px;padding:0px;border:none;float:left;'>",(b.browser.ie<=6?"<iframe style='position:absolute;width:100%;height:100%;z-index:-1;' frameborder=0></iframe>":""),"<div id='#{id}' class='sr-bdimgshare-layer sr-bdimgshare-pl'>","<div class='bdimgshare-layer-pnl'>","<h6>\u5206\u4eab\u5230</h6>","<div class='bdimgshare-layer-list'>#{list}<div class='clear'></div></div>","<p class='bdimgshare-layer-foot'><a href='"+d.web+"' class='bdimgshare-layer-toshare' target='_blank'>\u767e\u5ea6\u5206\u4eab</a></p>","</div></div>","</div>"].join("");l=new j(s.slice(0,7).concat(["more"]),y);b.insertHTML(document.body,"beforeEnd",l.render());b.setStyles(l.getEntity(),{width:b.g(l.getEntity()).offsetWidth+"px",height:b.g(l.getEntity()).offsetHeight+"px"});l.init();l.on("click",function(A){if(A.cmd=="more"){t();l.hide()}else{v.fire("click",{cmd:A.cmd,element:A.element,domEvent:A.domEvent})}});b.on(l.getEntity(),"mouseover",function(){o&&o.clearAbort()});b.on(l.getEntity(),"mouseout",function(){o&&o.abort()});var z=l.getButtons();z.pop();i.anti.sloc.append(z,1)}function r(y){if(l){l.show();y=y||w();b.setStyles(l.getEntity(),{top:y.top+"px",left:y.left+"px"})}}function w(){var E=l.getEntity(),A=b.g(E).offsetHeight,z=b.dom.getPosition(x),y=b.g(x).offsetHeight,D=(p.pos=="bottom");if(D){if((z.top-A)<b.page.getScrollTop()){D=false}}else{if((z.top+y)>(b.page.getScrollTop()+b.page.getViewHeight()-A)){D=true}}var C=(D?z.top-A:z.top+y),B=z.left+b.g(x).offsetWidth-b.g(E).offsetWidth;return{top:C,left:(B>=0?B:z.left)}}function q(){var y=["<div id='#{id}' style='z-index:1000000;margin:0px;padding:0px;border:none;float:left;'>",(b.browser.ie<=6?"<iframe style='position:absolute;width:100%;height:100%;z-index:-1;' frameborder=0></iframe>":""),"<div class='sr-bdimgshare-pop sr-bdimgshare-pl'>","<div class='bdimgshare-pop-pnl'>","<h6><span>\u5206\u4eab\u5230</span><a href='#' onclick='return false;' class='bdimgshare-pop-close' hidefocus></a></h6>","<div class='bdimgshare-pop-list'>#{list}<div class='clear'></div></div>","<p class='bdimgshare-pop-foot'><a href='"+d.web+"' class='bdimgshare-pop-toshare' target='_blank'>\u767e\u5ea6\u5206\u4eab</a></p>","</div></div>","</div>"].join("");u=new j(s,y,"bdimgshare-pop-close");b.insertHTML(document.body,"beforeEnd",u.render());b.setStyles(u.getEntity(),{width:b.g(u.getEntity()).offsetWidth+"px",height:b.g(u.getEntity()).offsetHeight+"px"});u.init();u.on("click",function(z){v.fire("click",{cmd:z.cmd,element:z.element,domEvent:z.domEvent})});b.on(window,"resize",m);i.anti.sloc.append(u.getButtons(),2)}function m(){if(u){var y=u.getEntity();b.setFixed(y,{top:(b.page.getViewHeight()-b.g(y).offsetHeight)/2,left:(b.page.getViewWidth()-b.g(y).offsetWidth)/2})}}function t(){if(!u){q()}u.show();m()}v.getEntity=function(){return x};v.getButtons=function(){return b.q("bdimgshare-icon",x)};v.hasPop=function(){return(l&&l.isVisible())||(u&&u.isVisible())};v.clearPop=function(){l&&l.hide();u&&u.hide()};v.clearAllPop=function(){u&&u.hide()};v.clearHoverPop=function(){l&&l.hide()};v.render=function(){if(p.type=="collection"){var B=["<div id='#{id}' class='sr-bdimgshare-collection sr-bdimgshare-coll-#{type}-#{size} sr-bdimgshare-coll-#{color}' style='position:absolute; left:-9999px; display:none; #{zindex}'>",(p.hidden||"").indexOf("collect")>-1?"":"<a class='bdimgshare-coll-coll' data-cmd='sbdxc' href='#' onclick='return false;'>\u6536\u85CF</a>",(p.hidden||"").indexOf("share")>-1?"":"<a class='bdimgshare-coll-share' data-cmd='more' href='#' onclick='return false;'>\u5206\u4EAB</a>","</div>"].join("");return b.format(B,{id:x,size:p.size,color:p.color,type:p.subtype||1,zindex:p.zindex?"z-index:"+p.zindex:""})}else{var B=["<div id='#{id}' class='sr-bdimgshare sr-bdimgshare-#{type} sr-bdimgshare-#{size} sr-bdimgshare-#{color}' style='height:#{height};line-height:#{height};font-size:#{fontSize};width:#{width};display:none;'>","<div class='bdimgshare-bg'></div>","<div class='bdimgshare-content'>","<label class='bdimgshare-lbl'>#{text}</label>","#{list}","</div>","</div>"].join(""),C="<a href='#' onclick='return false;' class='bdimgshare-icon bdshare-i-#{icon}' data-cmd='#{icon}' hidefocus></a>";var F=(p.type=="list"),z=[];if(F){b.array.each(p.list,function(G){z.push(b.format(C,{icon:G}))})}z.push(b.format(C,{icon:"more"}));var A={small:"36px",big:"48px"},E={small:"33px",big:"45px"},y={small:"60px",big:"82px"},D={small:"12px",big:"14px"};return b.format(B,{id:x,text:p.text||(F?"\u56fe\u7247\u5206\u4eab":"\u5206\u4eab"),type:p.type,size:p.size,color:p.color,width:(F?"auto":y[p.size]),height:(F?A:E)[p.size],fontSize:D[p.size],list:z.join("")})}};v.init=function(){if(b.g(x)){b.on(x,"click",function(A){A=A||window.event;var C=b.event.getTarget(A),B=b.getAttr(C,"data-cmd");if(B){if(B=="more"){t()}else{v.fire("click",{cmd:B,element:C,domEvent:A})}}});var y=b.q("bdimgshare-icon",x);y.pop();i.anti.sloc.append(y,0);var z=b.q("bdshare-i-more",x)[0];o=new k({time:200,startFn:function(){if(u&&u.isVisible()){return}if(!l){n()}r()},abortFn:function(){l&&l.hide()}});z&&b.on(z,"mouseover",function(){o.start()});z&&b.on(z,"mouseout",function(){o.abort()})}};v.destroy=function(){if(b.g(x)){b.un(window,"resize",m);b.un(x,"click");l&&l.destroy();l=null;u&&u.destroy();u=null;b.dom.remove(x)}};v.showAllPop=function(){t()};v.showHoverPop=function(y){if(!l){n()}r(y)}});var j=i.Class.create(function(p,m,l){var o=this,n="bdimgshare_pop_"+new Date().getTime(),q="<a href='#' onclick='return false;' class='bdimgshare-p-icon bdshare-i-#{pid}' data-cmd='#{pid}' hidefocus>#{pname}</a>";o.getEntity=function(){return n};o.getButtons=function(){return b.q("bdimgshare-p-icon",n)};o.isVisible=function(){if(b.g(n)){return b.getStyle(n,"display")!="none"}return false};o.render=function(){var r=[];b.array.each(p,function(s){var t=f[s];if(!t&&(s=="more")){t={name:"\u66F4\u591A..."}}if(!t){return false}r.push(b.format(q,{pid:s,pname:t.name}))});return b.format(m,{id:n,close:" data-act='close' ",list:r.join("")})};o.init=function(){if(b.g(n)){if(l){var r=b.q(l,n);b.array.each(r,function(t){b.on(t,"click",function(){o.hide()})})}var s=b.dom.getParent(b.q("bdimgshare-p-icon",n)[0]);b.on(s,"click",function(t){t=t||window.event;var v=b.event.getTarget(t),u=b.getAttr(v,"data-cmd");if(u){o.fire("click",{cmd:u,element:v,domEvent:t})}})}};o.show=function(){b.show(n)};o.hide=function(){b.hide(n)};o.destroy=function(){b.dom.remove(n)}});var e=(function(){var m=null,H=null,s={},v="",F=[],I="bdshare_printFrm_img_"+new Date().getTime();function w(M,P,R){if(!v){return}var N="click=1&to=#{to}&url=#{url}&title=#{title}&uid=#{uid}&type=text&pic=#{pic}&key=#{key}&sign=on&desc=&comment=&searchPic=&relatedUid=&l=#{l}&linkid=#{linkid}&sloc=#{sloc}&apiType=#{apiType}&buttonType=#{buttonType}&_t=#{_t}",U=(s.srcSet?s.srcSet[M]:""),S={single:4,list:3,collection:5}[s.type],K={to:"sbdxc"==M?"bdxc":M,url:encodeURIComponent(window.location.href),title:s.content||encodeURIComponent(document.title),pic:encodeURIComponent(v),key:U||"",uid:s.uid||"",l:i.anti.timespan.getValue(),linkid:i.anti.getLinkId(),apiType:1,buttonType:S,sloc:i.anti.sloc.getValue(P,R),_t:new Date().getTime()},O=b.format(N,K);setTimeout(function(){i.log.send(O,"click")},1500);if(M=="mail"){var J=d.jumpUrl+"/sendmail";window.open(J+"?"+O,"_blank")}else{if(M=="mshare"){window.open(d.mshareUrl+"?"+O)}else{if(M=="bdxc"){var Q=window,T=document,L="_bdXC",V;if(Q[L]){if(window._bdXC_loaded){Q[L].reInit()}}else{V=T.createElement("script");V.setAttribute("charset","utf-8");V.src="http://xiangce.baidu.com/zt/collect/mark.js?"+(new Date()).getTime();T.getElementsByTagName("head")[0].appendChild(V)}}else{window.open(d.jumpUrl+"?"+O)}}}}function z(){if(!v){return}if(b.browser.ie){window.clipboardData.setData("text",v);alert("\u56FE\u7247\u7F51\u5740\u590d\u5236\u6210\u529f\uff0c\u60a8\u53ef\u4ee5\u63a8\u8350\u7ed9QQ/MSN\u4e0a\u7684\u597d\u53cb\u4e86\uff01")}else{window.prompt("\u60a8\u4f7f\u7528\u7684\u662f\u975eIE\u6838\u5fc3\u6d4f\u89c8\u5668\uff0c\u8bf7\u6309\u4e0b Ctrl+C \u590d\u5236\u4ee3\u7801\u5230\u526a\u8d34\u677f",v)}}function o(){if(!v){return}if(b.browser.ie){var K=[];b.array.each(document.body.childNodes,function(M,L){K[L]=M.style.display;M.style.display="none"});b.insertHTML(document.body,"beforeEnd","<img id='"+I+"' src='"+v+"' />");window.print();b.dom.remove(I);b.array.each(document.body.childNodes,function(M,L){M.style.display=K[L]});return}else{if(!b.g(I)){b.insertHTML(document.body,"beforeEnd",b.format("<iframe id='#{id}' style='display:;' frameborder=0></iframe>",{id:I}))}else{b.g(I).innerHTML=""}var J=b.g(I).contentWindow;J.document.write("<img src='"+b.encodeHTML(v)+"' />");J.print();b.dom.remove(I)}}function C(){if(s.imgPanel){var J=s.imgPanel.split(",");b.array.each(J,function(L){B(L)})}else{var K=document.getElementsByTagName("img");b.array.each(K,function(L){b.on(L,"mouseover",function(M){if(u(L)){H.hoverElement=b.event.getTarget(M||window.event);H.start()}});b.on(L,"mouseout",function(){if(u(L)){H.abort()}})})}}function B(J){J=b.g(J);if(J){b.on(J,"mousemove",function(L){var K=G(J,L||window.event);if(H.hoverElement!=K){if(K&&u(K)){H.hoverElement=K;H.start()}else{if(H.hoverElement){H.abort()}}}});b.on(J,"mouseout",function(M){var L=b.dom.getPosition(J),K={x1:L.left,y1:L.top,x2:L.left+J.offsetWidth,y2:L.top+J.offsetHeight};if(!l(K,b.getMousePos(M||window.event))){H.abort()}})}}function G(K,M){var J=b.getMousePos(M),N=K.getElementsByTagName("img"),L=null;b.array.each(N,function(Q){if(u(Q)){var O=b.dom.getPosition(Q),P={x1:O.left,y1:O.top,x2:O.left+Q.offsetWidth,y2:O.top+Q.offsetHeight};if(l(P,J)){L=Q;return false}}});return L}function l(K,J){return(J.x>=K.x1&&(J.x<=K.x2)&&(J.y>=K.y1)&&(J.y<=K.y2))}function u(K){var J=true;if(s.minHeight&&s.minHeight>K.offsetHeight){J=false}else{if(s.minWidth&&s.minWidth>K.offsetWidth){J=false}else{if(s.enableClass&&!b.dom.hasClass(K,s.enableClass)){J=false}else{if(s.disableClass&&b.dom.hasClass(K,s.disableClass)){J=false}else{if(K.offsetWidth<100||(K.offsetHeight<100)){J=false}}}}}return J}function n(L){if(!m){return}if(s.type=="list"){var R={small:{lbl:53,pright:8,item:18},big:{lbl:61,pright:8,item:37}},J=R[s.size],U=Math.floor((L.offsetWidth-J.lbl-J.pright-10)/J.item),P=m.getButtons();for(var N=0,M=P.length-1;N<M;N++){if(N<(U-1)){b.show(P[N])}else{b.hide(P[N])}}}var S=b.g(m.getEntity()),Q={width:S.offsetWidth,height:S.offsetHeight},O={width:L.offsetWidth,height:L.offsetHeight},K=y(b.dom.getPosition(L),O,Q),T={position:"absolute",top:K.top+"px",left:K.left+"px"};if(s.type=="list"){T.width=O.width+"px"}b.setStyles(S,T)}function y(K,J,L){if(s.type=="list"){return{top:K.top+(s.pos=="bottom"?J.height-L.height:0),left:K.left}}if(s.type=="collection"){return{top:K.top+(s.pos.toLowerCase().indexOf("bottom")>-1?J.height-L.height-5:5),left:K.left+(s.pos.toLowerCase().indexOf("left")>-1?5:J.width-L.width-5)}}else{return{top:K.top+(s.pos=="bottom"?J.height-L.height:0),left:K.left+(J.width-L.width)}}}function D(J){s=J;m=new a(J);b.insertHTML(document.body,"beforeEnd",m.render());m.init();m.on("click",function(K){if(K.cmd=="copy"){z()}else{if(K.cmd=="print"){o()}else{w(K.cmd,K.element,K.domEvent)}}});H=new k({time:200,startFn:function(){if(!H.element||(H.element!=H.hoverElement)){if(J.type!="collection"||J.hidden!="share collect"){m.clearPop()}H.element=H.hoverElement;v=H.hoverElement.src;b.show(m.getEntity());n(H.hoverElement)}},abortFn:function(){if(!m.hasPop()){H.element=null;H.hoverElement=null;v="";b.hide(m.getEntity())}}});b.on(m.getEntity(),"mouseover",function(){H.clearAbort()});b.on(m.getEntity(),"mouseout",function(){H.abort()});i.anti.sloc.init(0);i.anti.timespan.init()}function A(K){if(K.type=="list"&&(!K.list||(K.list.length==0))){K.list=["qzone","tsina","tqq","renren","t163"]}D(K);C();if(!i.isShareWeb){var L=/(\d+\-[a-zA-Z\d]+\-\d+\-\d+\-[a-f\d]+)/ig,J=(location.href.match(L)||"").toString();var M={single:1,list:2,collection:4}[s.type];bdShare._LogPool.push({key:"img",api:{uid:K.uid||"",linkid:i.anti.getLinkId(),type:M,size:K.size,pos:K.pos,color:K.color,loadTime:(bdShare.imgshareStartTime?new Date().getTime()-bdShare.imgshareStartTime:"")}})}}function p(J){m&&m.destroy();i.anti.sloc.destory();D(J)}function E(J){v=J;m&&m.showAllPop()}function q(){m&&m.clearAllPop()}function r(){m&&m.clearHoverPop()}function x(J,K){v=J;if(m){m.showHoverPop(K)}}var t={init:A,refresh:p};if(/\.baidu\.com$/.test(document.location.hostname)){t.showAllPop=E;t.showHoverPop=x;t.closeAllPop=q;t.closeHoverPop=r}return t})();b.page.loadCssFile(d.staticUrl+"/static/css/imgshare.css?cdnversion=20121228");var c=(typeof bdShare_config_imgshare!="undefined"?bdShare_config_imgshare:{type:"list",pos:"bottom",color:"black",size:"big",list:["qzone","tsina","huaban","tqq","renren"],uid:""});if(c.type!="collection"&&c.size=="middle"){c.size="small"}e.init(c);h.ImgShare=e})(bdShare);